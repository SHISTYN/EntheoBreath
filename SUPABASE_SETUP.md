# ☁️ Настройка Cloud Sync (Supabase)

Для того чтобы пользовательские данные (XP, Уровень, Стрик) сохранялись в облаке и синхронизировались между устройствами, мы используем **Supabase**.

Это бесплатно и очень мощно.

### Шаг 1. Создание проекта
1. Перейдите на [database.new](https://database.new) (Supabase).
2. Войдите через GitHub.
3. Создайте новый проект (Organization: любую, Name: `EntheoBreath`, Password: сгенерируйте и сохраните).
4. Region: Выберите ближайший (например, Frankfurt).
5. Нажмите **Create New Project**.

### Шаг 2. Получение ключей
1. Когда проект создастся (2-3 мин), перейдите в **Project Settings** (шестеренка внизу слева).
2. Выберите **API**.
3. Найдите раздел `Project URL` и скопируйте `URL`.
4. Найдите раздел `Project API keys` -> `anon` `public` и скопируйте ключ.

В файле `.env` (или в настройках Vercel) добавьте:
```env
VITE_SUPABASE_URL=ваш_url
VITE_SUPABASE_ANON_KEY=ваш_ключ_anon
```

### Шаг 3. Настройка Базы Данных (Схема)
Нам нужно создать таблицы. Я подготовил автоматический скрипт.
1. В панели Supabase перейдите в **SQL Editor** (иконка консоли слева).
2. Нажмите **New Query**.
3. Скопируйте содержимое файла `scripts/supabase_schema.sql` из этого проекта.
4. Вставьте в окно SQL и нажмите **Run** (зеленая кнопка).
5. Должно появиться сообщение "Success".

### Шаг 4. Настройка Авторизации
1. Перейдите в **Authentication** -> **Providers**.
2. Убедитесь, что **Email** включен.
3. (Опционально) Включите **Google**:
   - Вам понадобятся Client ID из Google Cloud Console.
   - Подробнее: [Supabase Google Auth Docs](https://supabase.com/docs/guides/auth/social-login/auth-google).

### Шаг 5. Готово!
Теперь приложение будет:
- Показывать кнопку "Войти".
- Отправлять Magic Link на email.
- Сохранять XP и Уровень в таблицу `profiles`.
- Синхронизировать прогресс при входе на другом устройстве.
